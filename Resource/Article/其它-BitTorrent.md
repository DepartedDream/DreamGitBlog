# 比特流（BitTorrent）

* 比特流是一种内容分发协议，
* 由布拉姆·科恩自主开发。它采用高效的软件分发系统和点对点技术共享大体积文件（如一部电影或电视节目），
* 并使每个用户像网络重新分配结点那样提供上传服务。一般的下载服务器为每一个发出下载请求的用户提供下载服务，而BitTorrent的工作方式与之不同。
* 分配器或文件的持有者将文件发送给其中一名用户，
* 再由这名用户转发给其它用户，用户之间相互转发自己所拥有的文件部分，
* 直到每个用户的下载都全部完成。
* 这种方法可以使下载服务器同时处理多个大体积文件的下载请求，而无须占用大量带宽。

# 实现原理

* 普通的HTTP/FTP下载使用TCP/IP协议
* BitTorrent协议是架构于TCP/IP协议之上的一个P2P文件传输协议
* BitTorrent协议处于TCP/IP结构的应用层
* BitTorrent协议本身也包含了很多具体的内容协议和扩展协议，并在不断扩充中。
* BitTorrent协议，文件发布者会根据要发布的文件生成提供一个.torrent文件，即种子文件，也简称为“种子”。
* .torrent文件本质上是文本文件，包含Tracker信息和文件信息两部分。
* Tracker信息主要是BT下载中需要用到的Tracker服务器的地址和针对Tracker服务器的设置，
* 文件信息是根据对目标文件的计算生成的，计算结果根据BitTorrent协议内的B编码规则进行编码。
* 它的主要原理是需要把提供下载的文件虚拟分成大小相等的块，块大小必须为2k的整数次方（由于是虚拟分块，硬盘上并不产生各个块文件），并把每个块的索引信息和Hash验证码写入种子文件（.torrent）中。所以，种子文件（.torrent）就是被下载文件的“索引”。